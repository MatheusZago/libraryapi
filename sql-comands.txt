CREATE TABLE author(
	id uuid NOT NULL PRIMARY KEY,
	name VARCHAR(100) NOT NULL,
	birthdate DATE NOT NULL,
	nationality VARCHAR(50)
);

CREATE TABLE book(
	id uuid NOT NULL PRIMARY KEY,
	isbn VARCHAR(20) NOT NULL,
	title VARCHAR(150) NOT NULL,
	publish_date DATE NOT NULL,
	genre VARCHAR(30) NOT NULL,
	price NUMERIC(18,2),
	author_id uuid NOT NULL REFERENCES author(id),
	CONSTRAINT chk_genre CHECK (genre IN('FICTION', 'FANTASY', 'MYSTERY', 'ROMANCE', 'BIBLIOGRAPHY', 'SCIENCE'))
);

SELECT * FROM author;
SELECT * FROM book;


SELECT b.id, b.title as name_book, a.name as name_author
from book as b
join author as a on a.id = b.author_id;